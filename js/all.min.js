$(document).ready(function(){
"use strict";const $navLi=$("nav ul li"),$navUl=$("nav ul");function checkSection(){let e=$(document),t=e.scrollTop(),i=$(window).innerHeight(),n=e.height();t>$("#contact").offset().top-i/2||t>n-100?$navLi.eq(5).is(".active")||$navLi.eq(5).trigger("newActive"):t>$("#social").offset().top-i/2?$navLi.eq(4).is(".active")||$navLi.eq(4).trigger("newActive"):t>$("#mission").offset().top-i/2?$navLi.eq(3).is(".active")||$navLi.eq(3).trigger("newActive"):t>$("#QnA").offset().top-i/2?$navLi.eq(2).is(".active")||$navLi.eq(2).trigger("newActive"):t>$("#licensing").offset().top-i/2&&t>50?$navLi.eq(1).is(".active")||$navLi.eq(1).trigger("newActive"):$navLi.eq(0).is(".active")||($navLi.removeClass("active"),$navLi.eq(0).trigger("newActive"))}let timerID,preventScrollEvent=!1;function pause(e,t){clearTimeout(timerID),preventScrollEvent=!0,timerID=setTimeout(function(){preventScrollEvent=!1,!0===t&&checkSection()},e)}function scrolling(){!1===preventScrollEvent&&checkSection()}const $sections=$("section");function clickScroll(e){pause(550,!1),$("html, body").stop(!0,!1).animate({scrollTop:$sections.eq(e).offset().top-50},500),$navLi.eq(e).trigger("newActive")}function mobileNavResponse(){let e=$(this);$navLi.removeClass("active"),e.addClass("active");let t=e.position().left+$navUl.scrollLeft(),i=e.outerWidth(),n=t+i/2-$(window).width()/2;$navUl.stop(!0,!1).animate({scrollLeft:n},500,"linear"),$("#pos-indicator").css({left:t,width:i})}$navLi.each(function(e){$(this).on("click",function(){pause(550,!1),$("html, body").stop(!0,!1).animate({scrollTop:$sections.eq(e).offset().top-50},500),$(this).trigger("newActive")})}),$(".inside-link").on("click",function(e){e.preventDefault(),"#social"==$(this).attr("href")&&clickScroll(4),"#contact"==$(this).attr("href")&&clickScroll(5)}),$(document).on("scroll",scrolling),$navLi.on("newActive",mobileNavResponse),$navLi.eq(0).trigger("newActive"),$navLi.css("transition",".25s"),$(".dropdown-label").click(function(e){let t=$(this);t.next("").slideToggle();let i=t.find(".chevron");i.is(".up")?(i.removeClass("up"),i.addClass("down")):(i.removeClass("down"),i.addClass("up"))});const s=SVG("canvas").size(200,200);class iconObject{constructor(e,t,i,n){this.circle=s.circle(50),this.icon=s.image(e,30,30),this.group=s.group(),this.cx=t,this.cy=i,this.groupId=n}arrange(){this.circle.center(this.cx,this.cy),this.icon.center(this.cx,this.cy),this.group.add(this.circle).add(this.icon),this.circle.back()}style(){this.circle.attr({fill:"white",stroke:"#e4c079","stroke-width":2}),this.group.attr({cursor:"pointer",opacity:0,id:this.groupId})}scale(e,t){this.group.animate(t,"<>").scale(e,e)}linkTo(e){this.group.linkTo(e)}}let instagram=new iconObject("img/instagram.svg",100,40,"icon-ig");instagram.linkTo("http://instagram.com/jozugoingcrazy");let twitter=new iconObject("img/twitter.svg",40,100,"icon-t");twitter.linkTo("http://twitter.com/prodbyjozu");let soundcloud=new iconObject("img/soundcloud.svg",100,160,"icon-scl");soundcloud.linkTo("http://soundcloud.com/prodbyjozu");let youtube=new iconObject("img/youtube.svg",160,100,"icon-yt");youtube.linkTo("http://youtube.com/prodbyjozu");let iconObjects=[instagram,twitter,soundcloud,youtube];for(let e of iconObjects)e.arrange(),e.style();function line(e){return s.line(e.cx,e.cy,e.cx,e.cy)}let line1=line(instagram),line2=line(twitter),line3=line(soundcloud),line4=line(youtube);const lines=[line1,line2,line3,line4];for(let e=0;e<4;e++)lines[e].back(),lines[e].stroke({width:2,color:"#31444a"}),lines[e].attr({class:"line",opacity:0,id:"line"+e});let animationTimers=[];function lineAnimation(){for(let e=0;e<4;e++)lines[e].attr("opacity",1),animationTimers[e]=setInterval(()=>{0===e?lines[e].animate(800,"-").plot(iconObjects[e].cx,iconObjects[e].cy,iconObjects[e+3].cx,iconObjects[e+3].cy):lines[4-e].animate(800,"-").plot(iconObjects[4-e].cx,iconObjects[4-e].cy,iconObjects[3-e].cx,iconObjects[3-e].cy)},500*e+100)}let animationStartDelay,initAnimationOnce=!0;function initAnimation(){if(clearInterval(animationStartDelay),initAnimationOnce){for(let e=0;e<4;e++){let t=iconObjects[e].group;t.scale(.01,.01),t.opacity(1),t.animate(500,">",200*e).scale(1.1,1.1),t.animate(500,"-").scale(1,1)}animationStartDelay=setTimeout(lineAnimation,1200)}}let slidingTimer,inView=!1;$(window).scroll(()=>{let e=$(window).scrollTop()+$(window).height(),t=$("#canvas").offset().top;if(e-150>t&&!0==!inView&&(initAnimation(),inView=!0),e+150<t&&!1==!inView){inView=!1;for(let e=0;e<4;e++){let t=iconObjects[e];clearInterval(animationTimers[e]),lines[e].stop(!0,!0).attr("opacity",0).plot(t.cx,t.cy,t.cx,t.cy),t.group.attr("opacity",0)}}}),twttr.ready(()=>{let e=["948292603178610688","882307169810599937","1070064374105034752","1079593651754487813","1028369467569528834"];for(let t=0;t<5;t++)twttr.widgets.createTweet(e[t],document.getElementById("slide-"+t),{linkColor:"#d1af6c",cards:"hidden",conversation:"none"})});let sliding=!1;const prevBtn=$("#prev-btn-container");prevBtn.click(()=>{!1===sliding&&(clearInterval(slidingTimer),sliding=!0,slideLeft(),slidingTimer=setInterval(()=>{sliding=!1},1e3))});const nextBtn=$("#next-btn-container");nextBtn.click(()=>{!1===sliding&&(clearInterval(slidingTimer),sliding=!0,slideRight(),slidingTimer=setInterval(()=>{sliding=!1},1e3))});const slides=$("#testimonials-container > .slide"),container=$("#testimonials-container");function slideRight(){let e=slides.filter(".prev-prev");e.css("z-index",5);let t=slides.filter(".prev");t.css("z-index",10);let i=slides.filter(".active");i.css("z-index",15);let n=slides.filter(".next");n.css("z-index",20);let s=slides.filter(".next-next");s.css("z-index",15);let o=container.width();e.css({transition:"none",left:(2*o).toString()+"px"}),t.css({transition:"left 1s",left:(-2*o).toString()+"px"}),i.css({transition:"left 1s",left:(-1*o).toString()+"px"}),n.css({transition:"left 1s",left:"0"}),s.css({transition:"none",left:o.toString()+"px"}),e.removeClass("prev-prev").addClass("next-next"),t.removeClass("prev").addClass("prev-prev"),i.removeClass("active").addClass("prev"),n.removeClass("next").addClass("active"),s.removeClass("next-next").addClass("next")}function slideLeft(){let e=container.width(),t=slides.filter(".prev-prev");t.css("z-index",15);let i=slides.filter(".prev");i.css("z-index",20);let n=slides.filter(".active");n.css("z-index",15);let s=slides.filter(".next");s.css("z-index",10);let o=slides.filter(".next-next");o.css("z-index",5),t.css({transition:"none",left:(-1*e).toString()+"px"}),i.css({transition:"left 1s",left:"0px"}),n.css({transition:"left 1s",left:e.toString()+"px"}),s.css({transition:"left 1s",left:(2*e).toString()+"px"}),o.css({transition:"none",left:(-2*e).toString()+"px"}),t.removeClass("prev-prev").addClass("prev"),i.removeClass("prev").addClass("active"),n.removeClass("active").addClass("next"),s.removeClass("next").addClass("next-next"),o.removeClass("next-next").addClass("prev-prev")}if(window.location.search.includes("bsta.rs")){let e="http://"+window.location.search.substr(1);$("iframe").attr("src",e),$(window).on("load",clickScroll(0))}let preventSubmit=!1;$("#contact form").on("submit",function(e){if(e.preventDefault(),!1===preventSubmit){let e=$("#user-name").val(),t=$("#user-email").val(),i=$("#subject").val(),n=$("#message").val(),s=$("#submit").val();$("#validation").load("../php/contact.php",{"user-name":e,"user-email":t,subject:i,message:n,submit:s}),preventSubmit=!0,setTimeout(function(){preventSubmit=!1},3e3)}else $("#validation").html('<span class="error-message">don\'t spam bruh</p>')}),$(".user-input").on("change",function(){$(this).removeClass("input-error")});
});